digraph test {
rankdir=LR;
ranksep=0.1; nodesep=0.1; defaultdist = 0.1; len = 0.1;
"SOCKET STATE WAIT" -> "SOCKET STATE CLOSED" [label="handle QUIT"];
"SOCKET STATE RECEPIENTS SET" -> "SOCKET STATE RECEPIENTS SET" [label="handle RCPT"];
"SOCKET STATE WRITING DATA" -> "SOCKET STATE CLOSED" [label="connection failed"];
"SOCKET STATE MAIL CREATED NO RECEPIENTS" -> "SOCKET STATE WAIT" [label="handle RSET"];
"SOCKET STATE DELIVERING" -> "SOCKET STATE WAIT" [label="message saved"];
"SOCKET STATE MAIL CREATED NO RECEPIENTS" -> "SOCKET STATE CLOSED" [label="connection failed"];
"SOCKET STATE WAIT" -> "SOCKET STATE WAIT" [label="handle RSET"];
"SOCKET STATE RECEPIENTS SET" -> "SOCKET STATE WRITING DATA" [label="handle DATA"];
"SOCKET STATE INIT" -> "SOCKET STATE WAIT" [label="handle HELO"];
"SOCKET STATE WRITING DATA" -> "SOCKET STATE WRITING DATA" [label="text"];
"SOCKET STATE RECEPIENTS SET" -> "SOCKET STATE CLOSED" [label="connection failed"];
"SOCKET STATE INIT" -> "SOCKET STATE CLOSED" [label="connection failed"];
"SOCKET STATE MAIL CREATED NO RECEPIENTS" -> "SOCKET STATE CLOSED" [label="handle QUIT"];
"'*'" -> "SOCKET STATE INIT" [label="connection established"];
"SOCKET STATE WRITING DATA" -> "SOCKET STATE DELIVERING" [label="CLRF dot CLRF"];
"SOCKET STATE RECEPIENTS SET" -> "SOCKET STATE CLOSED" [label="handle QUIT"];
"SOCKET STATE RECEPIENTS SET" -> "SOCKET STATE RECEPIENTS SET" [label="handle NOOP"];
"SOCKET STATE WAIT" -> "SOCKET STATE MAIL CREATED NO RECEPIENTS" [label="handle MAIL"];
"SOCKET STATE MAIL CREATED NO RECEPIENTS" -> "SOCKET STATE RECEPIENTS SET" [label="handle RCPT"];
"SOCKET STATE RECEPIENTS SET" -> "SOCKET STATE WAIT" [label="handle RSET"];
"SOCKET STATE INIT" -> "SOCKET STATE CLOSED" [label="handle QUIT"];
"SOCKET STATE INIT" -> "SOCKET STATE INIT" [label="handle NOOP"];
"SOCKET STATE WAIT" -> "SOCKET STATE CLOSED" [label="connection failed"];
"SOCKET STATE MAIL CREATED NO RECEPIENTS" -> "SOCKET STATE MAIL CREATED NO RECEPIENTS" [label="handle NOOP"];
"SOCKET STATE WAIT" -> "SOCKET STATE WAIT" [label="handle NOOP"];
}
